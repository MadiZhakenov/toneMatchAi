# Краткая сводка по логам

## Текущая ситуация

### Что видно в логах:

1. **Аудио уже нулевое на входе в AMP NAM**
   - Все записи `AMP_BEFORE` показывают `audio_all_zero: True`
   - Это означает, что проблема возникает **ДО** AMP NAM обработки

2. **Отсутствуют логи ранних этапов:**
   - ❌ `DI_START` - валидация DI трека при входе
   - ❌ `BEFORE_INPUT_GAIN` - состояние до input gain
   - ❌ `AFTER_INPUT_GAIN` - состояние после input gain

3. **Есть логи поздних этапов:**
   - ✅ `AMP_BEFORE` - 68 записей (все показывают нулевое аудио)
   - ✅ `AMP_AFTER` - 38 записей (все показывают нулевой результат)
   - ✅ `IR_BEFORE` - 40 записей (все показывают нулевое аудио)
   - ✅ `IR_SKIP_ZERO` - 3 записи (код правильно обнаруживает проблему)

## Выводы

1. **Функция `process_with_custom_rig_and_post_fx` вызывается** (иначе не было бы логов AMP_BEFORE)
2. **Логирование ранних этапов не работает** - либо код не доходит до этих мест, либо логирование падает с ошибкой (которая игнорируется через try/except)
3. **Аудио становится нулевым до AMP NAM** - проблема в одном из ранних этапов:
   - DI трек изначально нулевой
   - Input gain обнуляет сигнал
   - Pre-EQ обнуляет сигнал

## Что делать

1. **Запустить плагин снова** после исправлений - должны появиться логи DI_START, BEFORE_INPUT_GAIN, AFTER_INPUT_GAIN
2. **Проверить stderr вывод** - в python_output.log должны быть сообщения `[PROCESSOR] START: ...`
3. **Если логи все еще не появляются** - возможно, функция вызывается из другого места или логирование не работает из-за ошибок

## Команды для проверки

```powershell
# Просмотр последних логов
python .cursor\view_logs.py

# Поиск записей DI_START
Get-Content .cursor\debug.log | Select-String "DI_START"

# Проверка python_output.log
Get-Content .cursor\python_output.log -ErrorAction SilentlyContinue | Select-Object -Last 20
```

